<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather App</title>
  <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
	<div class='container'>
		<div class='title-container'>
			<h1 class='title'> Weather in your city</h1>
		</div>
		<div class='search-container'>
			<input id='search-input' placeholder='Your city name' type='text'/>
			<button id='search-btn'> Search </button>
		</div>
		<div id='weather-data'>
	</div>
<script>
	const searchBtn = document.getElementById('search-btn')
	searchBtn.onclick = () => {
		const city = document.getElementById('search-input').value;	
		fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=fefdc40d2ca6234e68cfd78180a73ada&units=metric`)
    .then((response) => response.json())
    .then(data => {
	    const weatherDiv = document.getElementById('weather-data')
	    if (!data.name) {
		    weatherDiv.innerHTML = `
			    <div class='error-message'>
				    ${data.message}!
			    </div>`
		    return;
	    } 
      const weatherChild =
        `<div class='weather-child-container'>
           <span class='city-name'>
            ${data.name}, ${data.sys.country}	
           </span>
           <span class='weather-child-description'>
            ${data.weather[0].description}
           </span>
           <p>
            ${data.main.temp}°F temperature from ${data.main.temp_min}°F to ${data.main.temp_max}°F, wind ${data.wind.speed} m/s, clouds ${data.clouds.all}%, ${data.main.pressure} hpa
           </p>
           <p>
             Geo Cords: [${data.coord.lon}, ${data.coord.lat}]
           </p>
         </div>`
    weatherDiv.innerHTML = weatherChild;
    })
	}
</script>
</body>
</html>
